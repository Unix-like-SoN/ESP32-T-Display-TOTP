# Автономный TOTP-Аутентификатор на ESP32

## Описание проекта

Это устройство представляет собой полностью автономный, физический генератор кодов двухфакторной аутентификации (2FA/TOTP), построенный на базе платы LilyGO T-Display с микроконтроллером ESP32. Его главная задача — избавить от необходимости использовать телефон для получения кодов от Google Authenticator, Microsoft Authenticator и других сервисов, предоставляя безопасное и удобное аппаратное решение.

## Ключевые Особенности

- **Автономная работа:** Устройство самостоятельно подключается к Wi-Fi для синхронизации времени и генерирует коды.
- **Цветной дисплей:** Вся необходимая информация (название сервиса, 6-значны�� код, таймер) отображается на ярком цветном экране.
- **Физическое управление:** Две кнопки на корпусе позволяют легко переключаться между разными аккаунтами.
- **Удобный Веб-интерфейс:** Все управление ключами (добавление, удаление, резервное копирование) происходит через простой веб-интерфейс.
- **Надёжное шифрование:** Все секретные ключи хранятся на устройстве в **зашифрованном (AES-256)** виде и никогда не покидают его в открытой форме.
- **Резервное копирование и восстановление:** Возможность экспортировать и импортировать ключи в незашифрованном JSON-формате.
- **Отказоустойчивость:** Встроенная точка доступа для настройки Wi-Fi, если подключение к сохраненной сети не удалось.
- **Безопасный сброс:** Функция сброса до заводских настроек удержанием двух кнопок при включении.

## Оборудование

- **Плата:** LilyGO T-Display ESP32 (версия с 1.14-дюймовым дисплеем).
- **USB-кабель:** Type-C для прошивки и питания.

## Сборка и Прошивка

1.  **Установите Visual Studio Code** и расширение **PlatformIO IDE**.
2.  Клонируйте или скачайте этот проект.
3.  Откройте папку с проектом в Visual Studio Code.
4.  Отредактируйте файл `include/config.h`, установив ваш пароль для веб-интерфейса в `ADMIN_PASSWORD`.
5.  Подключите плату к компьютеру.
6.  Нажмите на иконку "PlatformIO" на боковой панели, выберите проект и нажмите **"Upload"**. PlatformIO автоматически скачает все необходимые библиотеки и прошьет устройство.

## Первое Использование

### 1. Настройка Wi-Fi
Когда вы включаете устройство в первый раз (или после сброса), оно переходит в режим точки доступа:
1.  На экране появится инструкция с пр��сьбой подключиться к Wi-Fi сети с именем **`ESP32-TOTP-Setup`**.
2.  Подключитесь к этой сети с телефона или компьютера.
3.  Откройте браузер и перейдите по адресу **`192.168.4.1`**.
4.  Откроется страница настройки, где вы выбираете свою домашнюю Wi-Fi сеть и вводите пароль от нее.
5.  После сохранения устройство перезагрузится и автоматически подключится к вашей сети.

### 2. Управление через Веб-интерфейс
1.  После подключения к Wi-Fi на экране на короткое время отобразится IP-адрес устройства (например, `192.168.0.140`). Введите этот адрес в браузере.
2.  Браузер запросит логин и пароль. Используйте `admin` и пароль, который вы установили в `config.h`.
3.  Вам будет доступен интерфейс для добавления, удаления, экспорта и импорта ключей.

### 3. Сброс до заводских настроек
Если вы хотите полностью очистить устройство:
1.  Отключите устройство от питания.
2.  **Зажмите обе кнопки (пин 0 и 35) одновременно.**
3.  Не отпуская кнопок, подключите питание.
4.  На экране появится индикатор сброса. **Продолжайте удерживать кнопки в течение 5 секунд.**
5.  Устройство удалит все данные и перезагрузится.
